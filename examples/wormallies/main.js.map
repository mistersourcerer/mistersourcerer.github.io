{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/noctane/dist/noctane.umd.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/css/app.scss?92b9","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/css/app.scss","webpack:///./node_modules/normalize.css/normalize.css","webpack:///./node_modules/css-loader/dist/runtime/getUrl.js","webpack:///./src/fonts/ArchivoBlack-Regular.ttf","webpack:///./src/fonts/Montserrat-Regular.ttf","webpack:///./src/fonts/Montserrat-Thin.ttf","webpack:///./src/ticker.js","webpack:///./src/eventify.js","webpack:///./src/wormallies.js","webpack:///./node_modules/body-scroll-lock/lib/bodyScrollLock.mjs","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","defaultConfig","width","height","cellSize","borderSize","borderStyle","backgroundColor","borderColor","debug","coords","fontSize","color","createCell","col","row","config","x","y","generateCells","cols","rows","cells","column","push","renderCell","cell","context","beginPath","startX","startY","bottomLineX","bottomLineY","leftLineX","leftLineY","fillStyle","fillRect","moveTo","lineTo","strokeStyle","lineWidth","lineCap","stroke","Grid","empty","overrides","totalCellSize","Math","floor","center","grid","length","render","start","strokeRect","forEach","text","position","font","size","measureText","ceil","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","fillText","debugCell","factory","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","id","_i","api","default","options","exported","locals","memo","isOldIE","Boolean","window","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","index","obj","css","media","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_index","splice","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_AT_RULE_IMPORT_0___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","url","test","slice","hash","needQuotes","replace","state","__lastRenderTime__","undefined","__render__","loop","now","Date","frameIntervalMs","shouldRender","requestAnimationFrame","addEventRegisters","events","type","handler","set","callback","addEventListener","listeners","dispatchEvent","event","stack","defaultPrevented","removeEventListener","on","Eventify","that","objectToMix","mixed","assign","snakeColor","candyColor","poisonColor","velocity","candyFrequency","candyChance","poisonFrequency","poisonChance","maxScore","scoreRounding","scoreLost","foodTTL","poisonTTL","candies","poisons","movingTo","lastRun","timeSinceLastCandy","timeSinceLastPoison","snake","touchStart","Direction","north","east","south","west","keyDirections","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","directionsBuffer","running","dead","score","shouldSpawn","chance","frequency","lastSpawn","random","spawnCell","randomInt","birth","spawnCandy","drawSpots","spotGrid","spot","expireSpots","spots","ttl","drawSnake","draw","shouldRun","changeDirection","moveSnake","trigger","detail","eventType","CustomEvent","bubbles","die","candy","units","rawScore","counter","newHead","body","isPoison","some","part","isSnake","canChangeTo","direction","forbidden","allowedNewDirections","includes","move","shouldChangeDirection","reset","max","falsifyGrid","_","positionFrom","changedTouches","clientX","clientY","handleTouch","touchEnd","end","diffX","horizDirection","diffY","vertDirection","directionFromTouch","handleKey","code","addControlHandlers","canvas","onkeydown","_toConsumableArray","arr","Array","isArray","arr2","from","hasPassiveEvents","passiveTestOptions","isIosDevice","navigator","platform","maxTouchPoints","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","el","lock","preventDefault","rawEvent","touches","disableBodyScroll","targetElement","console","error","ontouchstart","targetTouches","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","stopPropagation","handleScroll","passive","setTimeout","_reserveScrollBarGap","reserveScrollBarGap","scrollBarGap","innerWidth","documentElement","clientWidth","paddingRight","overflow","setOverflowHidden","_lock","onStart","visibility","display","innerText","onDie","onScore","onreadystatechange","overlay","startedAt","getElementById","gameOverlay","dispaly","container","emptyGrid","getContext","loadGame","loadOverlay"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.noctane = factory());\n}(this, (function () { 'use strict';\n\n  const Styles = {\n    inward: 'inward'\n  };\n  const defaultConfig = {\n    width: 400,\n    height: 400,\n    cellSize: 20,\n    borderSize: 1,\n    borderStyle: Styles.inward,\n    // rendering\n    backgroundColor: '#fff',\n    borderColor: '#f00',\n    debug: {\n      coords: false,\n      fontSize: 10,\n      backgroundColor: '#fff',\n      color: '#f00'\n    }\n  };\n\n  const createCell = (col, row, config) => {\n    const x = col * config.cellSize + (col + 1) * config.borderSize;\n    const y = row * config.cellSize + (row + 1) * config.borderSize;\n    const width = config.cellSize;\n    const height = config.cellSize;\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height,\n      col: col,\n      row: row\n    };\n  };\n\n  const generateCells = (cols, rows, config) => {\n    const cells = [];\n\n    for (let row = 0; row < rows; row++) {\n      const column = [];\n\n      for (let col = 0; col < cols; col++) {\n        column.push(createCell(col, row, config));\n      }\n\n      cells.push(column);\n    }\n\n    return cells;\n  };\n\n  const empty = overrides => {\n    const config = { ...defaultConfig,\n      ...overrides\n    };\n    const totalCellSize = config.cellSize + config.borderSize;\n    const rows = Math.floor(config.height / totalCellSize);\n    const height = rows * totalCellSize;\n    const cols = Math.floor(config.width / totalCellSize);\n    const width = cols * totalCellSize;\n    return {\n      cells: generateCells(cols, rows, config),\n      config: { ...config,\n        width: width,\n        height: height\n      }\n    };\n  };\n\n  const center = grid => {\n    const row = Math.floor(grid.length / 2);\n    const col = Math.floor(grid[0].length / 2);\n    return grid[row][col];\n  };\n\n  const renderCell = (cell, context, config) => {\n    context.beginPath(); // bottom\n\n    let startX = cell.x;\n    let startY = cell.y + cell.height;\n    let bottomLineX = cell.x + cell.width;\n    let bottomLineY = cell.y + cell.height;\n    let leftLineX = cell.x + cell.width;\n    let leftLineY = cell.y;\n\n    if (config.borderSize % 2 !== 0) {\n      startX += 0.5;\n      startY += 0.5;\n      bottomLineX += 0.5;\n      bottomLineY += 0.5;\n      leftLineX += 0.5;\n      leftLineY += 0.5;\n    }\n\n    context.fillStyle = config.backgroundColor;\n    context.fillRect(cell.x, cell.y, config.cellSize, config.cellSize); // bottom\n\n    context.moveTo(startX, startY);\n    context.lineTo(bottomLineX, bottomLineY); // left\n\n    context.lineTo(leftLineX, leftLineY);\n    context.strokeStyle = config.borderColor;\n    context.lineWidth = config.borderSize;\n    context.lineCap = 'square';\n    context.stroke();\n  };\n\n  const debugCell = (cell, text, context, config) => {\n    const position = {\n      x: cell.x + config.borderSize,\n      y: cell.y + config.borderSize + config.debug.fontSize\n    };\n    context.font = `${config.debug.fontSize}px sans-serif`;\n    const size = context.measureText(text);\n    context.fillStyle = config.debug.backgroundColor;\n    context.fillRect(position.x, position.y - config.debug.fontSize, Math.ceil(size.actualBoundingBoxLeft + size.actualBoundingBoxRight), Math.ceil(size.actualBoundingBoxAscent + size.actualBoundingBoxDescent + 2));\n    context.fillStyle = config.debug.color;\n    context.fillText(text, cell.x + config.borderSize, cell.y + config.debug.fontSize);\n  };\n\n  const render = (grid, context, overrides) => {\n    const config = { ...defaultConfig,\n      ...overrides\n    };\n    const borderSize = config.borderSize;\n    const odd = borderSize % 2 !== 0;\n    let start = 0;\n    if (odd) start += 0.5;\n    context.fillStyle = config.backgroundColor;\n    context.fillRect(start, start, config.width, config.height);\n    context.strokeStyle = config.borderColor;\n    context.strokeRect(start, start, config.width, config.height);\n    grid.forEach((cols, row) => {\n      cols.forEach((cell, col) => {\n        renderCell(cell, context, config);\n\n        if (config.debug.coords) {\n          debugCell(cell, `${cell.x}:${cell.y} ${row}:${col}`, context, config);\n        }\n      });\n    });\n    return grid;\n  };\n\n  const Grid = {\n    empty: empty,\n    center: center,\n    renderCell: renderCell,\n    render: render\n  };\n\n  var main = {\n    Grid: Grid\n  };\n\n  return main;\n\n})));\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./app.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_AT_RULE_IMPORT_0___ = require(\"-!../../node_modules/css-loader/dist/cjs.js!normalize.css/normalize.css\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../fonts/ArchivoBlack-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../fonts/Montserrat-Regular.ttf\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../fonts/Montserrat-Thin.ttf\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\n// Module\nexports.push([module.id, \"@font-face{font-family:\\\"Archivo Black\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format(\\\"truetype\\\")}@font-face{font-family:\\\"Montserrat\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format(\\\"truetype\\\")}@font-face{font-family:\\\"Montserrat-Thin\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format(\\\"truetype\\\")}body{background-color:#fff3cd}.screen{height:100%;width:100%}.box{font-family:\\\"Montserrat\\\",sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center}.box h1{font-family:\\\"Archivo Black\\\",sans-serif;color:#4d3e3e;font-size:60px}@media screen and (max-width: 640px){.box h1{margin-top:0px;font-size:80px}}.box h2{color:#ffc38b}@media screen and (max-width: 640px){.box h2{margin-top:-50px;font-size:30px}}.game header{margin-left:15px;width:100%;display:flex;justify-content:left;align-items:left}.game .score{display:flex;flex-direction:row-reverse;margin-right:22px;font-family:\\\"Archivo Black\\\",sans-serif;font-size:40px;color:#4d3e3e}.game .screen{position:relative}.game .overlay{position:absolute;top:0px;border:1px dashed #ffc38b;background-color:#fff3cd;opacity:.8;color:#ffc38b}.game .overlay .start{position:absolute;display:flex;top:0px;font-family:\\\"Archivo Black\\\",sans-serif;font-size:30px;color:#4d3e3e;margin-top:100px;margin-left:45px}.game .overlay .dead{position:absolute;display:flex;top:100px;font-family:\\\"Archivo Black\\\",sans-serif;font-size:30px;color:#4d3e3e;margin-top:100px;margin-left:45px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\\n\\n/* Document\\n   ========================================================================== */\\n\\n/**\\n * 1. Correct the line height in all browsers.\\n * 2. Prevent adjustments of font size after orientation changes in iOS.\\n */\\n\\nhtml {\\n  line-height: 1.15; /* 1 */\\n  -webkit-text-size-adjust: 100%; /* 2 */\\n}\\n\\n/* Sections\\n   ========================================================================== */\\n\\n/**\\n * Remove the margin in all browsers.\\n */\\n\\nbody {\\n  margin: 0;\\n}\\n\\n/**\\n * Render the `main` element consistently in IE.\\n */\\n\\nmain {\\n  display: block;\\n}\\n\\n/**\\n * Correct the font size and margin on `h1` elements within `section` and\\n * `article` contexts in Chrome, Firefox, and Safari.\\n */\\n\\nh1 {\\n  font-size: 2em;\\n  margin: 0.67em 0;\\n}\\n\\n/* Grouping content\\n   ========================================================================== */\\n\\n/**\\n * 1. Add the correct box sizing in Firefox.\\n * 2. Show the overflow in Edge and IE.\\n */\\n\\nhr {\\n  box-sizing: content-box; /* 1 */\\n  height: 0; /* 1 */\\n  overflow: visible; /* 2 */\\n}\\n\\n/**\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\n * 2. Correct the odd `em` font sizing in all browsers.\\n */\\n\\npre {\\n  font-family: monospace, monospace; /* 1 */\\n  font-size: 1em; /* 2 */\\n}\\n\\n/* Text-level semantics\\n   ========================================================================== */\\n\\n/**\\n * Remove the gray background on active links in IE 10.\\n */\\n\\na {\\n  background-color: transparent;\\n}\\n\\n/**\\n * 1. Remove the bottom border in Chrome 57-\\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\\n */\\n\\nabbr[title] {\\n  border-bottom: none; /* 1 */\\n  text-decoration: underline; /* 2 */\\n  text-decoration: underline dotted; /* 2 */\\n}\\n\\n/**\\n * Add the correct font weight in Chrome, Edge, and Safari.\\n */\\n\\nb,\\nstrong {\\n  font-weight: bolder;\\n}\\n\\n/**\\n * 1. Correct the inheritance and scaling of font size in all browsers.\\n * 2. Correct the odd `em` font sizing in all browsers.\\n */\\n\\ncode,\\nkbd,\\nsamp {\\n  font-family: monospace, monospace; /* 1 */\\n  font-size: 1em; /* 2 */\\n}\\n\\n/**\\n * Add the correct font size in all browsers.\\n */\\n\\nsmall {\\n  font-size: 80%;\\n}\\n\\n/**\\n * Prevent `sub` and `sup` elements from affecting the line height in\\n * all browsers.\\n */\\n\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline;\\n}\\n\\nsub {\\n  bottom: -0.25em;\\n}\\n\\nsup {\\n  top: -0.5em;\\n}\\n\\n/* Embedded content\\n   ========================================================================== */\\n\\n/**\\n * Remove the border on images inside links in IE 10.\\n */\\n\\nimg {\\n  border-style: none;\\n}\\n\\n/* Forms\\n   ========================================================================== */\\n\\n/**\\n * 1. Change the font styles in all browsers.\\n * 2. Remove the margin in Firefox and Safari.\\n */\\n\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit; /* 1 */\\n  font-size: 100%; /* 1 */\\n  line-height: 1.15; /* 1 */\\n  margin: 0; /* 2 */\\n}\\n\\n/**\\n * Show the overflow in IE.\\n * 1. Show the overflow in Edge.\\n */\\n\\nbutton,\\ninput { /* 1 */\\n  overflow: visible;\\n}\\n\\n/**\\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\\n * 1. Remove the inheritance of text transform in Firefox.\\n */\\n\\nbutton,\\nselect { /* 1 */\\n  text-transform: none;\\n}\\n\\n/**\\n * Correct the inability to style clickable types in iOS and Safari.\\n */\\n\\nbutton,\\n[type=\\\"button\\\"],\\n[type=\\\"reset\\\"],\\n[type=\\\"submit\\\"] {\\n  -webkit-appearance: button;\\n}\\n\\n/**\\n * Remove the inner border and padding in Firefox.\\n */\\n\\nbutton::-moz-focus-inner,\\n[type=\\\"button\\\"]::-moz-focus-inner,\\n[type=\\\"reset\\\"]::-moz-focus-inner,\\n[type=\\\"submit\\\"]::-moz-focus-inner {\\n  border-style: none;\\n  padding: 0;\\n}\\n\\n/**\\n * Restore the focus styles unset by the previous rule.\\n */\\n\\nbutton:-moz-focusring,\\n[type=\\\"button\\\"]:-moz-focusring,\\n[type=\\\"reset\\\"]:-moz-focusring,\\n[type=\\\"submit\\\"]:-moz-focusring {\\n  outline: 1px dotted ButtonText;\\n}\\n\\n/**\\n * Correct the padding in Firefox.\\n */\\n\\nfieldset {\\n  padding: 0.35em 0.75em 0.625em;\\n}\\n\\n/**\\n * 1. Correct the text wrapping in Edge and IE.\\n * 2. Correct the color inheritance from `fieldset` elements in IE.\\n * 3. Remove the padding so developers are not caught out when they zero out\\n *    `fieldset` elements in all browsers.\\n */\\n\\nlegend {\\n  box-sizing: border-box; /* 1 */\\n  color: inherit; /* 2 */\\n  display: table; /* 1 */\\n  max-width: 100%; /* 1 */\\n  padding: 0; /* 3 */\\n  white-space: normal; /* 1 */\\n}\\n\\n/**\\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\\n */\\n\\nprogress {\\n  vertical-align: baseline;\\n}\\n\\n/**\\n * Remove the default vertical scrollbar in IE 10+.\\n */\\n\\ntextarea {\\n  overflow: auto;\\n}\\n\\n/**\\n * 1. Add the correct box sizing in IE 10.\\n * 2. Remove the padding in IE 10.\\n */\\n\\n[type=\\\"checkbox\\\"],\\n[type=\\\"radio\\\"] {\\n  box-sizing: border-box; /* 1 */\\n  padding: 0; /* 2 */\\n}\\n\\n/**\\n * Correct the cursor style of increment and decrement buttons in Chrome.\\n */\\n\\n[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n[type=\\\"number\\\"]::-webkit-outer-spin-button {\\n  height: auto;\\n}\\n\\n/**\\n * 1. Correct the odd appearance in Chrome and Safari.\\n * 2. Correct the outline style in Safari.\\n */\\n\\n[type=\\\"search\\\"] {\\n  -webkit-appearance: textfield; /* 1 */\\n  outline-offset: -2px; /* 2 */\\n}\\n\\n/**\\n * Remove the inner padding in Chrome and Safari on macOS.\\n */\\n\\n[type=\\\"search\\\"]::-webkit-search-decoration {\\n  -webkit-appearance: none;\\n}\\n\\n/**\\n * 1. Correct the inability to style clickable types in iOS and Safari.\\n * 2. Change font properties to `inherit` in Safari.\\n */\\n\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button; /* 1 */\\n  font: inherit; /* 2 */\\n}\\n\\n/* Interactive\\n   ========================================================================== */\\n\\n/*\\n * Add the correct display in Edge, IE 10+, and Firefox.\\n */\\n\\ndetails {\\n  display: block;\\n}\\n\\n/*\\n * Add the correct display in all browsers.\\n */\\n\\nsummary {\\n  display: list-item;\\n}\\n\\n/* Misc\\n   ========================================================================== */\\n\\n/**\\n * Add the correct display in IE 10+.\\n */\\n\\ntemplate {\\n  display: none;\\n}\\n\\n/**\\n * Add the correct display in IE 10.\\n */\\n\\n[hidden] {\\n  display: none;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","export default __webpack_public_path__ + \"/fonts/ArchivoBlack-Regular.ttf\";","export default __webpack_public_path__ + \"/fonts/Montserrat-Regular.ttf\";","export default __webpack_public_path__ + \"/fonts/Montserrat-Thin.ttf\";","let state = {\n  __lastRenderTime__: undefined,\n  __render__: undefined,\n  config: {}\n}\n\nconst shouldRender = (now) => {\n  let timeSinceLast\n\n  if (state.__lastRenderTime__ === undefined) {\n    timeSinceLast = state.config.frameIntervalMs\n  } else {\n    timeSinceLast = now - state.__lastRenderTime__\n  }\n\n  return timeSinceLast >= state.config.frameIntervalMs\n}\n\nconst loop = () => {\n  const now = Date.now()\n\n  if (shouldRender(now)) {\n    state = state.config.render(state)\n    state.__lastRenderTime__ = now\n  }\n\n  window.requestAnimationFrame(loop)\n}\n\nexport const start = (render, config) => {\n  state = {\n    ...state,\n    config: {\n      ...state.config,\n      render: render,\n      frameIntervalMs: (config.frameIntervalMs === undefined) ? 16 : config.frameIntervalMs\n    }\n  }\n  loop()\n}\n","// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n\nconst addEventRegisters = (target, events) => {\n  events.forEach(type => {\n    const handler = `on${type}`\n    Object.defineProperty(target, handler, {\n      set: (callback) => target.addEventListener(type, callback),\n      get: () => target[handler]\n    })\n  })\n\n  return target\n}\n\nconst target = {\n  listeners: {},\n\n  dispatchEvent: function (event) {\n    if (!(event.type in this.listeners)) {\n      return true\n    }\n    var stack = this.listeners[event.type].slice()\n\n    for (var i = 0, l = stack.length; i < l; i++) {\n      stack[i].call(this, event)\n    }\n    return !event.defaultPrevented\n  },\n\n  addEventListener: function (type, callback) {\n    if (!(type in this.listeners)) {\n      this.listeners[type] = []\n    }\n    this.listeners[type].push(callback)\n  },\n\n  removeEventListener: function (type, callback) {\n    if (!(type in this.listeners)) return\n\n    var stack = this.listeners[type]\n    for (var i = 0, l = stack.length; i < l; i++) {\n      if (stack[i] === callback) {\n        stack.splice(i, 1)\n        return\n      }\n    }\n  },\n\n  on: function (name, callback) {\n    this.addEventListener(name, callback)\n  }\n}\n\nconst that = (objectToMix, options = { events: [] }) => {\n  const mixed = Object.assign(objectToMix, target)\n\n  return addEventRegisters(mixed, options.events)\n}\n\nconst Eventify = {\n  that: that\n}\n\nexport default Eventify\n","import { Grid } from 'noctane'\nimport { start } from './ticker'\nimport Eventify from './eventify'\n\nconst defaultConfig = {\n  width: 500,\n  height: 500,\n  cellSize: 16,\n  borderSize: 1,\n  backgroundColor: '#fff3cd',\n  borderColor: '#4d3e3e',\n  snakeColor: '#ff926b',\n  candyColor: '#ff5733',\n  poisonColor: '#4d3e3e',\n  velocity: 130,\n  candyFrequency: 5000, // milisecs\n  candyChance: 60, // 70 %\n  poisonFrequency: 7000, // milisecs\n  poisonChance: 10, // 50 %\n  maxScore: 30,\n  scoreRounding: 5,\n  scoreLost: 3\n}\n\ndefaultConfig.foodTTL = defaultConfig.velocity * 40 // 40 ticks\ndefaultConfig.poisonTTL = defaultConfig.velocity * 110\n\nconst Direction = {\n  north: 'north',\n  east: 'east',\n  south: 'south',\n  west: 'west'\n}\n\nconst keyDirections = {\n  ArrowUp: Direction.north,\n  ArrowRight: Direction.east,\n  ArrowDown: Direction.south,\n  ArrowLeft: Direction.west\n}\n\nlet directionsBuffer = []\n\nlet config\nlet grid\nlet candies\nlet poisons\nlet context\nlet movingTo\nlet running = false\nlet dead = false\nlet lastRun\nlet timeSinceLastCandy\nlet timeSinceLastPoison\nlet snake\nlet score = 0\nlet handler = Eventify.that({})\nlet touchStart\n\nconst randomPosition = () => {\n  return {\n    col: randomInt(grid[0].length),\n    row: randomInt(grid.length)\n  }\n}\n\nconst shouldSpawn = (chance, frequency, lastSpawn) => {\n  const now = Date.now()\n  if (lastSpawn === undefined) lastSpawn = now\n  if ((now - lastSpawn) <= frequency) return false\n\n  return chance > Math.floor(Math.random() * 100)\n}\n\nconst shouldSpawnCandy = () => {\n  if (timeSinceLastCandy === undefined) timeSinceLastCandy = Date.now()\n  return shouldSpawn(config.candyChance, config.candyFrequency, timeSinceLastCandy)\n}\n\nconst shouldSpawnPoison = () => {\n  if (timeSinceLastPoison === undefined) timeSinceLastPoison = Date.now()\n  return shouldSpawn(config.poisonChance, config.poisonFrequency, timeSinceLastPoison)\n}\n\nconst spawnCell = () => {\n  const position = randomPosition()\n\n  return {\n    birth: Date.now(),\n    position: { col: position.col, row: position.row },\n    cell: grid[position.row][position.col]\n  }\n}\n\nconst spawnCandy = () => {\n  const cell = spawnCell()\n  timeSinceLastCandy = cell.birth\n  candies[cell.position.row][cell.position.col] = cell\n}\n\nconst spawnPoison = () => {\n  const cell = spawnCell()\n  timeSinceLastPoison = cell.birth\n  poisons[cell.position.row][cell.position.col] = cell\n}\n\nconst drawSpots = (spotGrid, style) => {\n  spotGrid.forEach((cols) => {\n    cols.filter(spot => spot !== false).forEach(spot => {\n      Grid.renderCell(spot.cell, context, { ...config, backgroundColor: style })\n    })\n  })\n}\n\nconst drawCandies = () => {\n  drawSpots(candies, config.candyColor)\n}\n\nconst drawPoisons = () => {\n  drawSpots(poisons, config.poisonColor)\n}\n\nconst expireSpots = (spots, ttl) => {\n  const now = Date.now()\n  if (ttl === undefined) ttl = config.velocity * 10 // ten ticks\n\n  return spots.map((cols) => {\n    return cols.map(spot => (now - spot.birth) > ttl ? false : spot)\n  })\n}\n\nconst expireCandies = () => {\n  candies = expireSpots(candies, config.foodTTL)\n}\nconst expirePoisons = () => {\n  poisons = expireSpots(poisons, config.poisonTTL)\n}\n\nconst drawSnake = () => {\n  snake.forEach((cell) => {\n    context.fillStyle = config.snakeColor\n    context.fillRect(cell.x, cell.y, cell.width, cell.height)\n  })\n}\n\nconst draw = (state) => {\n  if (!running) return state\n\n  const now = Date.now()\n  if (!shouldRun(now)) return state\n\n  lastRun = now\n  Grid.render(grid, context, config) // clean grid\n\n  if (shouldSpawnCandy()) spawnCandy()\n  if (shouldSpawnPoison()) spawnPoison()\n\n  expireCandies()\n  expirePoisons()\n\n  changeDirection()\n  moveSnake()\n  drawCandies()\n  drawPoisons()\n  drawSnake()\n\n  return state\n}\n\nconst isCandy = (position) => {\n  return candies[position.row][position.col]\n}\n\nconst isPoison = (position) => {\n  return poisons[position.row][position.col]\n}\n\nconst isSnake = (position) => {\n  return snake.some(part => {\n    return part.col === position.col && part.row === position.row\n  })\n}\n\nconst newHead = () => {\n  let counter = 0\n  const head = snake[0]\n\n  let row = head.row\n  let col = head.col\n\n  switch (movingTo) {\n    case Direction.north:\n      if (row === 0) return null\n      row = head.row - 1\n      break\n    case Direction.east:\n      if (col >= grid[0].length - 1) return null\n      col = head.col + 1\n      break\n    case Direction.south:\n      if (row >= grid.length - 1) return null\n      row = head.row + 1\n      break\n    case Direction.west:\n      if (col === 0) return null\n      col = head.col - 1\n      break\n  }\n\n  if (counter === 1) running = false\n\n  counter++\n\n  return grid[row][col]\n}\n\nconst trigger = (type, detail) => {\n  const eventType = `wormallies.${type}`\n  const event = new window.CustomEvent(eventType, { detail: detail, bubbles: true })\n  handler.dispatchEvent(event)\n}\n\nconst die = () => {\n  running = false\n  dead = true\n\n  trigger('die', {\n    grid: grid,\n    score: score\n  })\n}\n\nconst scoreFor = (candy) => {\n  const units = config.foodTTL / config.maxScore\n  const rawScore = config.maxScore - ((Date.now() - candy.birth) / units)\n\n  return Math.ceil(rawScore / config.scoreRounding) * config.scoreRounding\n}\n\nconst moveSnake = () => {\n  const head = newHead()\n  let body = []\n\n  if (head === null) return die()\n\n  if (isCandy(head)) {\n    body = snake\n    score = score + scoreFor(candies[head.row][head.col])\n    trigger('score', { score: score })\n    candies[head.row][head.col] = false // remove candy\n    spawnCandy()\n  } else if (isPoison(head)) {\n    if (snake.length === 1) return die()\n    score -= config.scoreLost\n    trigger('score', { score: score })\n    body = snake.slice(0, snake.length - 2)\n    poisons[head.row][head.col] = false // remove poison\n  } else if (isSnake(head)) {\n    return die()\n  } else {\n    body = snake.slice(0, snake.length - 1)\n  }\n\n  snake = [head].concat(body)\n}\n\nconst shouldRun = (now) => {\n  if (lastRun === undefined) return true\n\n  return now - lastRun >= config.velocity\n}\n\nconst allowedNewDirections = (direction) => {\n  let forbidden\n  switch (direction) {\n    case Direction.north:\n      forbidden = Direction.south\n      break\n    case Direction.east:\n      forbidden = Direction.west\n      break\n    case Direction.south:\n      forbidden = Direction.north\n      break\n    case Direction.west:\n      forbidden = Direction.east\n      break\n  }\n\n  return [\n    Direction.north,\n    Direction.east,\n    Direction.south,\n    Direction.west\n  ].filter(direction => direction !== forbidden)\n}\n\nconst canChangeTo = (direction) => {\n  return allowedNewDirections(movingTo).includes(direction)\n}\n\nconst changeDirection = () => {\n  const direction = directionsBuffer.slice(0, 1)[0]\n\n  directionsBuffer = directionsBuffer.slice(1, directionsBuffer.length)\n  if (canChangeTo(direction)) {\n    movingTo = direction\n  }\n}\n\nconst shouldChangeDirection = (direction) => {\n  return Object.keys(Direction).includes(direction)\n}\n\nconst move = (direction) => {\n  if (shouldChangeDirection(direction)) {\n    if (!running) { // starting a new game\n      running = true\n      trigger('start', { grid: grid })\n    }\n\n    if (dead) {\n      dead = false\n      running = true\n      reset()\n      trigger('start', { grid: grid })\n    }\n\n    directionsBuffer.push(Direction[direction])\n  }\n}\n\nconst randomInt = (max) => {\n  return Math.floor(Math.random() * Math.floor(max))\n}\n\nconst falsifyGrid = (grid) => {\n  return grid.map(cols => cols.map(_ => false))\n}\n\nconst reset = () => {\n  snake = [Grid.center(grid)]\n  score = 0\n\n  candies = falsifyGrid(grid)\n  poisons = falsifyGrid(grid)\n}\n\nconst positionFrom = (event) => {\n  return {\n    x: event.changedTouches[0].clientX,\n    y: event.changedTouches[0].clientY\n  }\n}\n\nconst directionFromTouch = (start, end) => {\n  // First we check the direction of the touch (left, right, up, down?)\n  const diffX = end.x - start.x\n  const horizDirection = (diffX > 0) ? Direction.east : Direction.west\n  const diffY = end.y - start.y\n  const vertDirection = (diffY > 0) ? Direction.south : Direction.north\n\n  // Then we check if what motion was more \"firm/visible\"\n  // eg.: south west more south or more west?\n  // And use this to decide the final direction to move.\n  const horiz = (diffX < 0) ? diffX * -1 : diffX\n  const vert = (diffY < 0) ? diffY * -1 : diffY\n\n  return (horiz > vert) ? horizDirection : vertDirection\n}\n\nconst handleTouch = (event) => {\n  if (event.type === 'touchstart') {\n    touchStart = positionFrom(event)\n    return\n  }\n  // A safe in case touch is \"weird\"\n  if (!touchStart) return move(Direction.north)\n\n  const touchEnd = positionFrom(event)\n\n  move(directionFromTouch(touchStart, touchEnd))\n  touchStart = null\n}\n\nconst handleKey = (event) => {\n  move(keyDirections[event.code])\n}\n\nconst addControlHandlers = (canvas) => {\n  document.onkeydown = handleKey\n\n  // touch events\n  document.addEventListener('touchstart', handleTouch, false)\n  document.addEventListener('touchend', handleTouch, false)\n}\n\nexport const loadGame = (overrides, callback = (_) => {}) => {\n  config = { ...defaultConfig, ...overrides }\n  const canvas = config.canvas\n  addControlHandlers(canvas)\n\n  const emptyGrid = Grid.empty(config)\n  grid = emptyGrid.cells\n\n  handler = config.handler || canvas\n  canvas.width = config.width\n  canvas.height = config.height\n  config.width = emptyGrid.config.width\n  config.height = emptyGrid.config.height\n\n  context = canvas.getContext('2d')\n  Grid.render(grid, context, config)\n  snake = [Grid.center(grid)]\n\n  candies = falsifyGrid(grid)\n  poisons = falsifyGrid(grid)\n\n  spawnCandy()\n  drawSnake()\n  callback(grid, emptyGrid.config)\n  start(draw, config)\n}\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\n  setTimeout(function () {\n    // If previousBodyPaddingRight is already set, don't set it again.\n    if (previousBodyPaddingRight === undefined) {\n      var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n      var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n      if (_reserveScrollBarGap && scrollBarGap > 0) {\n        previousBodyPaddingRight = document.body.style.paddingRight;\n        document.body.style.paddingRight = scrollBarGap + 'px';\n      }\n    }\n\n    // If previousBodyOverflowSetting is already set, don't set it again.\n    if (previousBodyOverflowSetting === undefined) {\n      previousBodyOverflowSetting = document.body.style.overflow;\n      document.body.style.overflow = 'hidden';\n    }\n  });\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\n  setTimeout(function () {\n    if (previousBodyPaddingRight !== undefined) {\n      document.body.style.paddingRight = previousBodyPaddingRight;\n\n      // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n      // can be set again.\n      previousBodyPaddingRight = undefined;\n    }\n\n    if (previousBodyOverflowSetting !== undefined) {\n      document.body.style.overflow = previousBodyOverflowSetting;\n\n      // Restore previousBodyOverflowSetting to undefined\n      // so setOverflowHidden knows it can be set again.\n      previousBodyOverflowSetting = undefined;\n    }\n  });\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  if (isIosDevice) {\n    // targetElement must be provided, and disableBodyScroll must not have been\n    // called on this targetElement before.\n    if (!targetElement) {\n      // eslint-disable-next-line no-console\n      console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n      return;\n    }\n\n    if (targetElement && !locks.some(function (lock) {\n      return lock.targetElement === targetElement;\n    })) {\n      var lock = {\n        targetElement: targetElement,\n        options: options || {}\n      };\n\n      locks = [].concat(_toConsumableArray(locks), [lock]);\n\n      targetElement.ontouchstart = function (event) {\n        if (event.targetTouches.length === 1) {\n          // detect single touch.\n          initialClientY = event.targetTouches[0].clientY;\n        }\n      };\n      targetElement.ontouchmove = function (event) {\n        if (event.targetTouches.length === 1) {\n          // detect single touch.\n          handleScroll(event, targetElement);\n        }\n      };\n\n      if (!documentListenerAdded) {\n        document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n        documentListenerAdded = true;\n      }\n    }\n  } else {\n    setOverflowHidden(options);\n    var _lock = {\n      targetElement: targetElement,\n      options: options || {}\n    };\n\n    locks = [].concat(_toConsumableArray(locks), [_lock]);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    locks = [];\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n    locks = [];\n  }\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (isIosDevice) {\n    if (!targetElement) {\n      // eslint-disable-next-line no-console\n      console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n      return;\n    }\n\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    locks = locks.filter(function (lock) {\n      return lock.targetElement !== targetElement;\n    });\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n\n      documentListenerAdded = false;\n    }\n  } else {\n    locks = locks.filter(function (lock) {\n      return lock.targetElement !== targetElement;\n    });\n    if (!locks.length) {\n      restoreOverflowSetting();\n    }\n  }\n};\n\n","import './css/app.scss'\nimport { loadGame } from './wormallies'\nimport Eventify from './eventify'\nimport { disableBodyScroll } from 'body-scroll-lock'\n\nconst loadOverlay = (config, overlay) => {\n  document.querySelector('.game .overlay .dead').style.display = 'none'\n\n  overlay.width = config.width\n  overlay.height = config.height\n\n  overlay.style = `\n    ${overlay.style};\n    width: ${config.width}px;\n    height: ${config.height}px;\n  `\n}\n\nconst onStart = (_) => {\n  document.querySelector('.game .score .value').style.visibility = 'visible'\n  document.querySelector('.game .overlay').style.display = 'none'\n  document.querySelector('.game .overlay .start').style.display = 'none'\n  document.querySelector('.game .overlay .dead').style.display = 'none'\n  document.querySelector('.game .overlay .dead .score').innerText = ''\n  document.querySelector('.game .overlay .dead .score').style.display = 'none'\n}\n\nconst onDie = (e) => {\n  const score = e.detail.score\n\n  document.querySelector('.game .score .value').style.visibility = 'hidden'\n  document.querySelector('.game .overlay').style.display = 'block'\n  document.querySelector('.game .overlay .start').style.display = 'block'\n  document.querySelector('.game .overlay .dead').style.display = 'block'\n  document.querySelector('.game .overlay .dead .score').style.display = 'block'\n  document.querySelector('.game .overlay .dead .score').innerText = `MUCH POINTS: ${score}`\n\n  document.querySelector('.game .score .value').innerText = '0'\n}\n\nconst onScore = (e) => {\n  const score = e.detail.score\n  const value = document.querySelector('.game .score .value')\n\n  if (score > 0) {\n    value.innerText = score\n    value.style.visibility = 'visible'\n  } else {\n    value.innerText = '0'\n    value.style.visibility = 'hidden'\n  }\n}\n\nconst addHandlers = (target) => {\n  Eventify.that(target)\n\n  target.on('wormallies.start', onStart)\n  target.on('wormallies.score', onScore)\n  target.on('wormallies.die', onDie)\n\n  return target\n}\n\nconst cellSize = (container) => {\n  if (container.innerWidth <= 800) return 50\n  if (container.innerWidth <= 1200) return 30\n  if (container.innerWidth <= 1500) return 20\n  return 16\n}\n\nconst addOverlayHandlers = (overlay) => {\n  overlay.addEventListener('click', (_) => {\n    overlay.style.display = 'none'\n  })\n\n  let startedAt\n  overlay.addEventListener('touchstart', (event) => {\n    startedAt = {\n      x: event.changedTouches[0].clientX,\n      y: event.changedTouches[0].clientY\n    }\n  })\n\n  overlay.addEventListener('touchend', (event) => {\n    const tap = event.changedTouches[0].clientX === startedAt.x &&\n      event.changedTouches[0].clientY === startedAt.y\n\n    if (tap) {\n      startedAt = null\n      overlay.style.dispaly = 'none'\n    }\n  })\n}\n\nconst load = function () {\n  const value = document.querySelector('.game .score .value')\n  value.innerText = '0'\n  value.style.visibility = 'hidden'\n\n  const canvas = document.getElementById('wormallies')\n  const gameOverlay = document.querySelector('.game .overlay')\n  addOverlayHandlers(gameOverlay)\n\n  const afterLoad = (_, c) => {\n    config = c\n\n    gameOverlay.width = config.width\n    gameOverlay.height = config.height\n  }\n\n  let config\n\n  loadGame({\n    canvas: canvas,\n    handler: addHandlers({}),\n    width: (window.innerWidth <= 800) ? window.innerWidth - 50 : 800,\n    cellSize: cellSize(window)\n  }, afterLoad)\n\n  loadOverlay(config, document.querySelector('.game .overlay'))\n  disableBodyScroll(canvas)\n}\n\ndocument.onreadystatechange = load\n"],"sourceRoot":""}